---
import Layout from '@/layouts/Layout.astro';
import { BlocksRenderer } from '@strapi/blocks-react-renderer';
import { getCategories } from '@/lib/get-categories';

const categories = await getCategories();
---

<Layout title="Test" booleanLayout={true}>
	<section class="mx-auto max-w-5xl px-4 py-10">
		<h1 class="mb-8 text-center text-4xl font-extrabold tracking-tight text-gray-800">
			Categor√≠as
		</h1>
		<ul class="grid gap-8 sm:grid-cols-2 md:grid-cols-3">
			{
				categories.map((i: any) => (
					<li
						id={i.slug}
						class="overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-lg transition-all duration-300 hover:shadow-2xl"
					>
						<a href={`/categorias/${i.slug}`} class="block h-full">
							<img
								src={i.image}
								alt={i.name}
								class="h-40 w-full object-cover"
								loading="lazy"
								decoding="async"
							/>
							<div class="flex h-full flex-col p-5">
								<h2 class="mb-2 text-lg font-bold text-gray-900">{i.name}</h2>
								<p class="mb-4 line-clamp-3 text-sm text-gray-600">{i.description}</p>
								<span class="mt-auto inline-block rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-800">
									Ver noticias
								</span>
							</div>
						</a>
					</li>
				))
			}
		</ul>
	</section>
</Layout>
