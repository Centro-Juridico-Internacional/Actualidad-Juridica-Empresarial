---
// Importación de servicios de API interna
import { getAuthors } from '@/lib/api/authors';

// Componentes de Astro (Layouts)
import Layout from '@/layouts/Layout.astro';
import Breadcrumb from '@/components/ui/Breadcrumb.astro';

// Obtención de la lista completa de autores
const authors = await getAuthors();
---

<Layout title="Autores" booleanLayout={true}>
	<div class="from-secondary-50/50 min-h-screen bg-linear-to-b to-white">
		<section class="container-main py-16">
			<div class="relative mb-12 text-center">
				<h1 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl">
					<span class="relative inline-block">
						Nuestros Autores
						<span
							class="bg-secondary-500 absolute -bottom-2 left-0 h-1 w-full transform transition-transform duration-300 ease-out"
							style="transform-origin: center;"></span>
					</span>
				</h1>
				<p class="mt-4 text-lg text-gray-600">
					Conoce a los expertos que hacen posible nuestro contenido de calidad
				</p>
			</div>

			<Breadcrumb title="Nuestros Autores" className="mb-0" />

			<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
				{
					authors.map((author: any) => (
						<div class="group relative overflow-hidden rounded-xl bg-white p-6 shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
							<div class="from-secondary-100/30 absolute inset-0 bg-linear-to-b to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100" />

							<div class="relative flex flex-col items-center space-y-4">
								<a
									href={`/autores/${author.name.toLowerCase().replace(/\s+/g, '_')}`}
									class="relative inline-block"
									title={`Ver artículos de ${author.name}`}
								>
									<div class="ring-secondary-100 group-hover:ring-secondary-200 h-24 w-24 overflow-hidden rounded-full ring-4 transition-all duration-300">
										<img
											src={author.avatar}
											alt={author.name}
											class="h-full w-full object-fill transition-transform duration-300 group-hover:scale-110"
											loading="lazy"
											decoding="async"
										/>
									</div>
								</a>

								<div class="text-center">
									<h2 class="group-hover:text-secondary-600 text-xl font-bold text-gray-900">
										<a href={`/autores/${author.name.toLowerCase().replace(/\s+/g, '_')}`}>
											{author.name}
										</a>
									</h2>
									<p class="mt-2 text-sm text-gray-600">{author.cargo || 'Colaborador'}</p>
								</div>
							</div>
						</div>
					))
				}
			</div>
		</section>
	</div>
</Layout>
