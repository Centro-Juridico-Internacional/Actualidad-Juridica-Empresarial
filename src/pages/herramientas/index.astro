---
/**
 * Directorio de Herramientas JurÃ­dicas
 * ====================================
 * PÃ¡gina de aterrizaje que lista todas las calculadoras y utilidades legales.
 * Facilita el acceso rÃ¡pido a herramientas interactivas de liquidaciÃ³n y retenciÃ³n.
 */
import Layout from '@/layouts/Layout.astro';
import Breadcrumb from '@/components/ui/Breadcrumb.astro';

/**
 * DefiniciÃ³n de Herramientas Disponibles
 * Centraliza los tÃ­tulos, iconos y descripciones para el renderizado dinÃ¡mico.
 */
const tools = [
	{
		title: 'Calculadora de LiquidaciÃ³n Laboral',
		slug: 'calculadora-laboral',
		icon: 'ðŸ’¼',
		desc: 'Calcula cesantÃ­as, intereses, prima, vacaciones y total de liquidaciÃ³n segÃºn normativa del Ministerio.'
	},
	{
		title: 'Calculadora de IndemnizaciÃ³n por Despido',
		slug: 'calculadora-despido',
		icon: 'âš–ï¸',
		desc: 'Simula cuÃ¡nto debe pagar una empresa por un despido sin justa causa segÃºn tipo de contrato.'
	},
	{
		title: 'Calculadora de Horas Extras y Recargos',
		slug: 'calculadora-horas-extras',
		icon: 'â±ï¸',
		desc: 'Determina el valor de horas extra diurnas, nocturnas, dominicales y festivas.'
	},
	{
		title: 'Calculadora de Incapacidad MÃ©dica',
		slug: 'calculadora-incapacidad',
		icon: 'ðŸ¥',
		desc: 'Calcula pagos por incapacidad de enfermedad general, accidente laboral y EPS/ARL.'
	},
	{
		title: 'Calculadora de RetenciÃ³n en la Fuente',
		slug: 'calculadora-retencion',
		icon: 'ðŸ“Š',
		desc: 'ProyecciÃ³n mensual de retenciÃ³n aplicando UVT, ingresos, deducciones y rentas exentas.'
	},
	{
		title: 'Calculadora Contrato de Aprendizaje',
		slug: 'calculadora-contrato-aprendizaje',
		icon: 'ðŸŽ“',
		desc: 'Calcula auxilio de sostenimiento e indemnizaciÃ³n por terminaciÃ³n anticipada.'
	}
];

// Captura de URL absoluta para el index de herramientas
const { href } = Astro.url;

/**
 * Metadata Estructurada - ItemList
 * Lista las calculadoras ante Google para mejorar el Rich Snippet de la secciÃ³n.
 */
const schema = {
	'@context': 'https://schema.org',
	'@type': 'ItemList',
	itemListElement: tools.map((tool, index) => ({
		'@type': 'ListItem',
		position: index + 1,
		name: tool.title,
		url: `${href}/${tool.slug}`
	}))
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />

<Layout title="Herramientas JurÃ­dicas" booleanLayout={true} breadcrumbTitle="Herramientas">
	<!-- Hero -->
	<section
		class="relative flex h-[25vh] min-h-[220px] items-center justify-center overflow-hidden bg-green-900"
	>
		<div class="absolute inset-0 opacity-20">
			<svg class="h-full w-full" width="100%" height="100%" viewBox="0 0 800 800">
				<defs>
					<pattern id="dotPattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
						<circle cx="2" cy="2" r="1" fill="white"></circle>
					</pattern>
				</defs>
				<rect width="800" height="800" fill="url(#dotPattern)"></rect>
			</svg>
		</div>

		<div class="container-main relative z-10 text-center">
			<h1 class="mb-3 text-4xl font-bold text-white">Herramientas JurÃ­dicas</h1>
			<p class="text-lg text-green-100">
				Accede a nuestras herramientas legales interactivas y gratuitas
			</p>
		</div>
	</section>

	<section class="container-main animate-fadeIn py-12">
		<Breadcrumb title="Herramientas" />

		<div class="mt-8 space-y-6">
			{
				tools.map((tool) => (
					<a
						href={`/herramientas/${tool.slug}`}
						class="group flex items-start gap-6 rounded-2xl border border-gray-100 bg-white p-6 shadow-md transition-all hover:-translate-y-1 hover:shadow-xl"
					>
						<div class="text-4xl transition-transform group-hover:scale-110">{tool.icon}</div>

						<div class="flex-1">
							<h2 class="text-xl font-bold text-gray-900 transition-colors group-hover:text-green-700">
								{tool.title}
							</h2>
							<p class="mt-1 text-gray-600">{tool.desc}</p>
						</div>

						<span class="font-semibold text-green-700 opacity-0 transition-all group-hover:opacity-100">
							Usar â†’
						</span>
					</a>
				))
			}
		</div>
	</section>
</Layout>
