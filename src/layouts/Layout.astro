---
// IMPORT STYLES
import '@/styles/global.css';
import '@fontsource-variable/noto-sans-jp';
// ASTRO VIEW TRANSITIONS
import { ClientRouter } from 'astro:transitions';
// VERCEL
import Analytics from '@vercel/analytics/astro';
import SpeedInsights from '@vercel/speed-insights/astro';
// SECTIONS
import Header from '@/layouts/Header.astro';
import Footer from '@/layouts/Footer.astro';

// Props Astro
interface Props {
	title: string;
	booleanLayout: boolean;
}
const { title, booleanLayout } = Astro.props;
---

<!doctype html>
<html
	lang="es"
	class="font-primary-font h-full min-h-screen w-screen overflow-x-hidden scroll-smooth"
>
	<head>
		<!-- 
      ___           ___                             
     /  /\         /__/\          ___       ___     
    /  /:/         \  \:\        /  /\     /  /\    
   /  /:/           \  \:\      /  /:/    /  /:/    
  /  /:/  ___   ___  \  \:\    /  /:/    /__/::\    
 /__/:/  /  /\ /__/\  \__\:\  /  /::\    \__\/\:\__ 
 \  \:\ /  /:/ \  \:\ /  /:/ /__/:/\:\      \  \:\/\
  \  \:\  /:/   \  \:\  /:/  \__\/  \:\      \__\::/
   \  \:\/:/     \  \:\/:/        \  \:\     /__/:/ 
    \  \::/       \  \::/          \__\/     \__\/  
     \__\/         \__\/                            
 -->
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="language" content="es" />
		<meta name="robots" content="index, follow" />

		<!-- SEO -->
		<title>{title.charAt(0).toUpperCase() + title.slice(1)} | Actualidad Jurídica</title>

		<meta
			name="description"
			content="Abogados expertos en derecho laboral, comercial y recaudo de cartera. Proteja su empresa legalmente con el respaldo del Centro Jurídico Internacional. Asesoría gratuita inicial."
		/>
		<meta
			name="keywords"
			content="abogados en Colombia, firma de abogados, recaudo de cartera, asesoría legal, servicios jurídicos, bufete de abogados, Centro Jurídico Internacional, CJI, protección legal empresas"
		/>
		<meta name="author" content="Centro Jurídico Internacional" />

		<!-- Open Graph -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content="Centro Jurídico Internacional - Abogados en Colombia" />
		<meta
			property="og:description"
			content="Abogados expertos en derecho y recaudo de cartera. Proteja su empresa legalmente. Consultas jurídicas para empresas y particulares en Colombia."
		/>
		<meta property="og:image" content=`header/logoMainCJI.svg` />
		<meta property="og:url" content="https://centrojuridicointernacional.co/" />
		<meta property="og:site_name" content="Centro Jurídico Internacional" />

		<!-- Twitter Card -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta
			name="twitter:title"
			content="Centro Jurídico Internacional - Abogados y Recaudo de Cartera"
		/>
		<meta
			name="twitter:description"
			content="Firma legal especializada en protección jurídica empresarial y recuperación de cartera en Colombia."
		/>
		<meta name="twitter:image" content=`header/logoMainCJI.svg` />

		<!-- Canonical -->
		<link rel="canonical" href="https://centrojuridicointernacional.co/" />

		<!-- Favicon -->
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

		<!-- Preload crítico -->
		<link
			rel="preload"
			href="/fonts/noto-sans-jp-variable.woff2"
			as="font"
			type="font/woff2"
			crossorigin
		/>
		<link rel="preload" href="/header/logoMainCJI.svg" as="image" />

		<!-- Cache control -->
		<meta http-equiv="Cache-Control" content="max-age=31536000, immutable" />

		<!-- Preconexiones -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

		<!-- View Transitions y Analytics -->
		<meta name="view-transition" content="same-origin" />
		<ClientRouter />
		<Analytics />
		<SpeedInsights />
	</head>

	<body
		class="flex min-h-screen flex-col overflow-x-hidden bg-gray-50/30 transition-colors duration-300"
	>
		<!-- Header con animación suave -->
		<Header booleanHeader={booleanLayout} />

		<!-- Main content con animaciones de entrada -->
		<main class="w-full flex-1">
			<div class="animate-fadeIn">
				<slot />
			</div>
		</main>

		<!-- Footer con transición suave -->
		<Footer />
	</body><style>
		/* Animaciones personalizadas */
		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(5px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		.animate-fadeIn {
			animation: fadeIn 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
		}

		/* Estilos de scroll suave */
		:global(html) {
			scroll-behavior: smooth;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}

		:global(body) {
			background-color: rgb(249 250 251 / 0.3);
		}

		/* Estilo de selección personalizado */
		:global(::selection) {
			background-color: rgb(187 247 208);
			color: rgb(20 83 45);
		}

		/* Mejora del scrollbar */
		:global(::-webkit-scrollbar) {
			width: 10px;
			background-color: transparent;
		}

		:global(::-webkit-scrollbar-thumb) {
			border-radius: 9999px;
			background-color: rgb(22 163 74 / 0.2);
			transition-property: color, background-color, border-color;
			transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
			transition-duration: 200ms;
		}

		:global(::-webkit-scrollbar-thumb:hover) {
			background-color: rgb(22 163 74 / 0.3);
		}

		/* Mejoras de enfoque para accesibilidad */
		:global(*:focus-visible) {
			outline: 2px solid transparent;
			outline-offset: 2px;
			--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width)
				var(--tw-ring-offset-color);
			--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width))
				var(--tw-ring-color);
			box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow);
			--tw-ring-color: rgb(34 197 94);
			--tw-ring-offset-width: 2px;
			--tw-ring-offset-color: white;
		}
	</style>
</html>

<script>
	// Manejo del título
	let title = document.title;
	document.addEventListener('astro:page-load', () => {
		return (title = document.title);
	});
	document.addEventListener('visibilitychange', () => {
		if (document.hidden) {
			document.title = 'Vuelve para estar siempre informado';
		} else {
			document.title = title;
		}
	});

	// Solo manejo del título en cambio de pestañas
</script>
